<div class="color-selector-container">
  <div class="header">
    <h1>Selecciona tu color</h1>
    <div class="room-info">
      <p>Sala: {{ roomCode }}</p>
      <button class="share-btn" (click)="copyRoomCode()" [class.copied]="copied">
        @if (!copied) {
          <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
            <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
          </svg>
        } @else {
          <svg viewBox="0 0 24 24" fill="currentColor" width="20" height="20">
            <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
          </svg>
        }
        {{ copied ? '¡Copiado!' : 'Copiar' }}
      </button>
    </div>
  </div>

  <div class="color-options">
    @for (color of colors; track color.id) {
      <div
        class="color-option"
        [class.selected]="selectedColor === color.id"
        (click)="selectColor(color.id)"
      >
        <div class="pawn-icon" [style.background-color]="color.hex">
          <svg viewBox="0 0 24 24" fill="white" width="32" height="32">
            <path d="M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L15 6.5V7.5C15 8.3 14.3 9 13.5 9H10.5C9.7 9 9 8.3 9 7.5V6.5L3 7V9L9 8.5V9.5C9 10.3 9.7 11 10.5 11H13.5C14.3 11 15 10.3 15 9.5V8.5L21 9Z"/>
          </svg>
        </div>
        <span class="color-name">{{ color.name }}</span>
      </div>
    }
  </div>

  @if (selectedColor) {
    <div class="nickname-section">
    <h3>Tu nombre de jugador</h3>
    <input
      type="text"
      placeholder="Ingresa tu nick"
      [(ngModel)]="playerName"
      class="nickname-input"
      maxlength="15"
    >
    <button
      class="join-game-btn"
      (click)="joinGame()"
      [disabled]="!playerName || playerName.trim().length < 2"
    >
      ¡Jugar!
    </button>
    </div>
  }
</div>
